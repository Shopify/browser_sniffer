require 'test_helper'

class BrowserSnifferTest < Minitest::Test
  AGENTS = {
    :ipad_old => {
      :user_agent => "Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 531,
      :os => :ios,
      :os_version => '3.2',
      :browser => :safari,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :ipad_new => {
      :user_agent => "Mozilla/5.0 (iPad; U; CPU OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B334b Safari/531.21.10",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 531,
      :os => :ios,
      :os_version => '3.2',
      :browser => :safari,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :ipad_chrome => {
      :user_agent => "Mozilla/5.0 (iPad; CPU OS 6_0_1 like Mac OS X; en-us) AppleWebKit/534.46.0 (KHTML, like Gecko) CriOS/21.0.1180.82 Mobile/10A523 Safari/7534.48.3",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :ios,
      :os_version => '6.0.1',
      :browser => :chrome,
      :major_browser_version => 21,
      :in_app_browser => nil,
    },
    :iphone => {
      :user_agent => "Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_1_2 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7D11 Safari/528.16",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 528,
      :os => :ios,
      :os_version => '3.1.2',
      :browser => :safari,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :ipod_touch => {
      :user_agent => "Mozilla/5.0 (iPod; U; CPU iPhone OS 2_2_1 like Mac OS X; en-us) AppleWebKit/525.18.1 (KHTML, like Gecko) Version/3.1.1 Mobile/5H11a Safari/525.20",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 525,
      :os => :ios,
      :os_version => '2.2.1',
      :browser => :safari,
      :major_browser_version => 3,
      :in_app_browser => nil,
    },
    :ipod_touch_ios4 => {
      :user_agent => "Mozilla/5.0 (iPod; U; CPU iPhone OS 4_3_3 like Mac OS X; ja-jp) AppleWebKit/533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :ios,
      :os_version => '4.3.3',
      :browser => :safari,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :ipod_touch_ios7 => {
      :user_agent => "Mozilla/5.0 (iPod touch; CPU iPhone OS 7_0_4 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11B554a Safari/9537.53",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :ios,
      :os_version => '7.0.4',
      :browser => :safari,
      :major_browser_version => 7,
      :in_app_browser => nil,
    },
    :nexus_one => {
      :user_agent => "Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :android,
      :os_version => '2.2',
      :browser => :safari,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :htc_droid => {
      :user_agent => "Mozilla/5.0 (Linux; U; Android 2.2; nl-nl; Desire_A8181 Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :android,
      :os_version => '2.2',
      :browser => :safari,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :bb_torch => {
      :user_agent => "Mozilla/5.0 (BlackBerry; U; BlackBerry 9800; en) AppleWebKit/534.1+ (KHTML, Like Gecko) Version/6.0.0.141 Mobile Safari/534.1+",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :blackberry,
      :os_version => nil,
      :browser => :safari,
      :major_browser_version => 6,
      :in_app_browser => nil,
    },
    :bb_8830 => {
      :user_agent => "BlackBerry8330/4.3.0 Profile/MIDP-2.0 Configuration/CLDC-1.1 VendorID/105",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => :blackberry,
      :os_version => '4.3.0',
      :browser => nil,
      :major_browser_version => nil,
      :in_app_browser => nil,
    },
    :kindle => {
      :user_agent => "Mozilla/4.0 (compatible; Linux 2.6.22) NetFront/3.4 Kindle/2.0 (screen 600x800)",
      :form_factor => :tablet,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => 3,
      :os => :linux,
      :os_version => '2.6.22',
      :browser => nil,
      :browser_name => 'Kindle',
      :major_browser_version => 2,
      :in_app_browser => nil,
    },
    :nokia_classic => {
      :user_agent => "Nokia3120Classic/2.0 (06.20) Profile/MIDP-2.1 Configuration/CLDC-1.1",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => nil,
      :browser => nil,
      :major_browser_version => nil,
      :in_app_browser => nil,
    },
    :nokia_3200 => {
      :user_agent => "Nokia3200/1.0 (5.29) Profile/MIDP-1.0 Configuration/CLDC-1.0\nUP.Link/6.3.1.13.0",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => nil,
      :browser => nil,
      :major_browser_version => nil,
      :in_app_browser => nil,
    },
    :att => {
      :user_agent => "Opera/9.51 Beta (Microsoft Windows; PPC; Opera Mobi/1718; U; en)",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => :windows,
      :os_version => nil,
      :browser => :opera,
      :major_browser_version => 9,
      :in_app_browser => nil,
    },
    :benq => {
      :user_agent => "BenQ-CF61/1.00/WAP2.0/MIDP2.0/CLDC1.0 UP.Browser/6.3.0.4.c.1.102 (GUI) MMP/2.0",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => nil,
      :browser => nil,
      :major_browser_version => nil,
      :in_app_browser => nil,
    },
    :dell_streak => {
      :user_agent => "Mozilla/5.0 (Linux; U; Android 1.6; en-gb; Dell Streak Build/Donut AppleWebKit/528.5+ (KHTML, like Gecko) Version/3.1.2 Mobile Safari/ 525.20.1",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 528,
      :os => :android,
      :os_version => '1.6',
      :major_browser_version => 3,
      :in_app_browser => nil,
    },
    :hp_ipaq => {
      :user_agent => "Mozilla/4.0 (compatible; MSIE 4.01; Windows CE; PPC; 240x320; HP iPAQ h6300)",
      :form_factor => :handheld,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => :windows,
      :os_version => 'CE',
      :browser => :ie,
      :major_browser_version => 4,
      :in_app_browser => nil,
    },
    :nintendo_ds => {
      :user_agent => "Mozilla/4.0 (compatible; MSIE 6.0; Nitro) Opera 8.50 [en Mozilla/4.0 (compatible; MSIE 6.0; Nitro) Opera 8.50 [ja]",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => nil,
      :browser => :opera,
      :major_browser_version => 8,
      :in_app_browser => nil,
    },
    :firefox_linux => {
      :user_agent => "Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.2.8) Gecko/20100723 Ubuntu/10.04 (lucid) Firefox/3.6.8",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :gecko,
      :major_engine_version => 1,
      :os => :linux,
      :os_version => '10.04',
      :browser => :firefox,
      :major_browser_version => 3,
      :in_app_browser => nil,
    },
    :safari_mac => {
      :user_agent => "Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-ca) AppleWebKit/534.6+ (KHTML, like Gecko) Version/5.0 Safari/533.16",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :mac,
      :os_version => '10.6.3',
      :browser => :safari,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :chrome_mac => {
      :user_agent => "Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-US) AppleWebKit/534.6 (KHTML, like Gecko) Chrome/6.0.495.0 Safari/534.6",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :mac,
      :os_version => '10.6.3',
      :browser => :chrome,
      :major_browser_version => 6,
      :in_app_browser => nil,
    },
    :chrome_win => {
      :user_agent => "Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/533.4 (KHTML, like Gecko) Chrome/5.0.375.125 Safari/533.4",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :windows,
      :os_version => 'Vista',
      :browser => :chrome,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :ie9 => {
      :user_agent => "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 5,
      :os => :windows,
      :os_version => '7',
      :browser => :ie,
      :major_browser_version => 9,
      :in_app_browser => nil,
    },
    :ie8 => {
      :user_agent => "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; MDDC)",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 4,
      :os => :windows,
      :os_version => '7',
      :browser => :ie,
      :major_browser_version => 8,
      :in_app_browser => nil,
    },
    :ie7 => {
      :user_agent => "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; GTB6.4; .NET CLR 1.1.4322; FDM; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => nil,
      :major_engine_version => nil,
      :os => :windows,
      :os_version => 'XP',
      :browser => :ie,
      :major_browser_version => 7,
      :in_app_browser => nil,
    },
    :opera_win => {
      :user_agent => "Opera/9.80 (Windows NT 6.1; U; en) Presto/2.5.24 Version/10.54",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :presto,
      :major_engine_version => 2,
      :os => :windows,
      :os_version => '7',
      :browser => :opera,
      :major_browser_version => 9,
      :in_app_browser => nil,
    },
    :wii => {
      :user_agent => "Opera/9.00 (Nintendo Wii; U; ; 1038-58; Wii Shop Channel/1.0; en)",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => 'Wii',
      :browser => :opera,
      :major_browser_version => 9,
      :in_app_browser => nil,
    },
    :springboard_launched_ipod_browser => {
      :user_agent => "Mozilla/5.0 (iPod; U; CPU iPhone OS 4_3_3 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML, like Gecko) Mobile/8J2",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :ios,
      :os_version => '4.3.3',
      :browser => :safari,
      :browser_name => 'Mobile Safari',
      :major_browser_version => 533,
      :in_app_browser => nil,
    },
    :ipod_os_4_3_3 => {
      :user_agent => "Mozilla/5.0 (iPod; U; CPU iPhone OS 4_3_3 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 533,
      :os => :ios,
      :os_version => '4.3.3',
      :browser => :safari,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :iphone_4S => {
      :user_agent => "Mozilla/5.0 (iPhone; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :ios,
      :os_version => '5.0',
      :browser => :safari,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :iphone_ios7_webview => {
      :user_agent => "Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Mobile/11A465",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :ios,
      :os_version => '7.0',
      :browser => :safari,
      :browser_name => 'Mobile Safari',
      :major_browser_version => 537,
      :in_app_browser => nil,
    },
    :ipad_ios10_webview => {
      :user_agent => "Mozilla/5.0 (iPad; CPU OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) FxiOS/6.1 Mobile/14D27 Safari/602.4.6",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 602,
      :os => :ios,
      :os_version => '10.2.1',
      :browser => :firefoxios,
      :browser_name => 'Mobile Firefox',
      :major_browser_version => 6,
      :in_app_browser => nil,
    },
    :ipad_ios5 => {
      :user_agent => "Mozilla/5.0 (iPad; CPU OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 534,
      :os => :ios,
      :os_version => '5.0',
      :browser => :safari,
      :major_browser_version => 5,
      :in_app_browser => nil,
    },
    :excel_mac => {
      :user_agent => "Mozilla/5.0 (Macintosh; Intel Mac OS X) Excel/14.34.0",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :ie11? => false,
      :ie11_actual? => false,
      :engine => nil,
      :major_engine_version => nil,
      :os => :mac,
      :os_version => nil,
      :browser => nil,
      :browser_name => 'Excel',
      :major_browser_version => 14,
      :in_app_browser => nil,
    },
    :win7_ie11 => {
      :user_agent => "Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => true,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 7,
      :os => :windows,
      :os_version => "7",
      :browser => :ie,
      :major_browser_version => 11,
      :in_app_browser => nil,
    },
    :win8_ie11 => {
      :user_agent => "Mozilla/5.0 (Windows NT 6.2; Trident/7.0; rv:11.0) like Gecko",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => true,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 7,
      :os => :windows,
      :os_version => "8",
      :browser => :ie,
      :major_browser_version => 11,
      :in_app_browser => nil,
    },
    :win8_1_ie11 => {
      :user_agent => "Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; rv:11.0) like Gecko",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => true,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 7,
      :os => :windows,
      :os_version => "8.1",
      :browser => :ie,
      :major_browser_version => 11,
      :in_app_browser => nil,
    },
    :win10_ie11 => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => true,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 7,
      :os => :windows,
      :os_version => "10",
      :browser => :ie,
      :major_browser_version => 11,
      :in_app_browser => nil,
    },
    :win10_edge12 => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10136",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => false,
      :ie11_actual? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :os_version => "10",
      :browser => :edge,
      :major_browser_version => 12,
      :in_app_browser => nil,
    },
    :daum => {
      :user_agent => "Mozilla/5.0 (compatible; MSIE or Firefox mutant;) Daum 4.1",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => nil,
      :major_engine_version => nil,
      :os => nil,
      :os_version => nil,
      :browser => nil,
      :major_browser_version => nil,
      :in_app_browser => nil,
    },
    :chromiumos_chrome => {
      :user_agent => "Mozilla/5.0 (X11; CrOS x86_64 10066.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :chromium_os,
      :os_version => '10066.0.0',
      :browser => :chrome,
      :major_browser_version => 81,
      :in_app_browser => nil,
    },
    :windows_phone_8_1_ie11 => {
      :user_agent => "Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; Microsoft; " \
       "Lumia 640 XL) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537",
      :form_factor => :handheld,
      :ios? => false,
      :ie11? => false,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 53,
      :os => :windows,
      :os_version => "8.1",
      :browser => nil,
      :major_browser_version => 11,
      :in_app_browser => nil,
    },
    :win10_ie11_in_ie7_compatibility_mode => {
      :user_agent => "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; " \
       ".NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.3; Tablet PC 2.0; Zoom 3.6.0)",
      :form_factor => :desktop,
      :ios? => false,
      :ie11? => false,
      :ie11_actual? => true,
      :android? => false,
      :desktop? => true,
      :engine => :trident,
      :major_engine_version => 7,
      :os => :windows,
      :os_version => "10",
      :browser => :ie,
      :major_browser_version => 7,
      :in_app_browser => nil,
    },
    :facebook_in_app_browser => {
      :user_agent => "Mozilla/5.0 (iPhone; CPU iPhone OS 15_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/19G82 " \
       "[FBAN/FBIOS;FBDV/iPhone13,4;FBMD/iPhone;FBSN/iOS;FBSV/15.6.1;FBSS/3;FBID/phone;FBLC/en_US;FBOP/5]",
      :form_factor => :handheld,
      :ios? => true,
      :ie11? => false,
      :ie11_actual? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :os => :ios,
      :os_version => "15.6.1",
      :browser => :safari,
      :major_browser_version => 605,
      :in_app_browser => :facebook,
    },
    :instagram_in_app_browser => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; SM-G970U1 Build/SP1A.210812.016; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 " \
        "Chrome/103.0.5060.129 Mobile Safari/537.36 Instagram 251.1.0.11.106 " \
        "Android (31/12; 480dpi; 1080x2020; samsung; SM-G970U1; beyond0q; qcom; en_US; 396185280)",
      :form_factor => :handheld,
      :ios? => false,
      :ie11? => false,
      :ie11_actual? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 103,
      :in_app_browser => :instagram,
    },
    :yandex_mac => {
      :user_agent => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 YaBrowser/24.4.5.506 Yowser/2.5 Safari/537.36",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :mac,
      :os_version => '10.15.7',
      :browser => :yandex,
      :major_browser_version => 24,
      :in_app_browser => nil,
    },
    # New Samsung Tablet Patterns
    :samsung_tablet_sm_p => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; SM-P615 Build/RP1A.200720.012; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 91,
      :device_vendor => 'Samsung',
      :device_name => 'SM-P615',
    },
    :samsung_tablet_gt_n => {
      :user_agent => "Mozilla/5.0 (Linux; Android 10; GT-N8020 Build/QP1A.190711.020; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "10",
      :browser => :chrome,
      :major_browser_version => 89,
      :device_vendor => 'Samsung',
      :device_name => 'GT-N8020',
    },
    # Xiaomi Devices
    :xiaomi_tablet_mi_pad => {
      :user_agent => "Mozilla/5.0 (Linux; Android 9; Mi Pad 4 Build/PKQ1.180904.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "9",
      :browser => :chrome,
      :major_browser_version => 77,
      :device_vendor => 'Xiaomi',
      :device_name => 'Mi Pad 4',
    },
    :xiaomi_tablet_redmi_pad => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; Redmi Pad Build/SP1A.210812.016; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/103.0.5060.129 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 103,
      :device_vendor => 'Xiaomi',
      :device_name => 'Redmi Pad',
    },
    :xiaomi_mobile_poco => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; POCO X3 Pro Build/RKQ1.200826.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/90.0.4430.210 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 90,
      :device_vendor => 'Xiaomi',
      :device_name => 'POCO X3 Pro',
    },
    :xiaomi_mobile_mi_phone => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; Mi 11 Build/SKQ1.210216.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/98.0.4758.102 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 98,
      :device_vendor => 'Xiaomi',
      :device_name => 'Mi 11',
    },
    # Huawei Tablets
    :huawei_tablet_mediapad => {
      :user_agent => "Mozilla/5.0 (Linux; Android 10; MediaPad M5 Build/HUAWEICMR-W09; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/88.0.4324.152 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "10",
      :browser => :chrome,
      :major_browser_version => 88,
      :device_vendor => 'Huawei',
      :device_name => 'MediaPad M5',
    },
    :huawei_tablet_matepad => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; BAH3-W09 Build/HUAWEIBAH3-W09; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/92.0.4515.159 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 92,
      :device_vendor => 'Huawei',
      :device_name => 'BAH3-W09',
    },
    # Honor Tablets
    :honor_tablet => {
      :user_agent => "Mozilla/5.0 (Linux; Android 10; BRT-LX1 Build/HONORBRT-LX1; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/87.0.4280.141 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "10",
      :browser => :chrome,
      :major_browser_version => 87,
      :device_vendor => 'Honor',
      :device_name => 'BRT-LX1',
    },
    # OPPO Devices
    :oppo_tablet => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; OPD2101A Build/RP1A.201005.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 91,
      :device_vendor => 'OPPO',
      :device_name => 'OPD2101A',
    },
    :oppo_mobile => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; OPPO Find X5 Build/SP1A.210812.016; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/102.0.5005.125 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 102,
      :device_vendor => 'OPPO',
      :device_name => 'OPPO Find X5',
    },
    # OnePlus Mobile
    :oneplus_mobile => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; OnePlus 9 Pro Build/SKQ1.210216.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/99.0.4844.88 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 99,
      :device_vendor => 'OnePlus',
      :device_name => 'OnePlus 9 Pro',
    },
    :oneplus_nord => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; OnePlus Nord Build/RKQ1.201022.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/88.0.4324.181 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 88,
      :device_vendor => 'OnePlus',
      :device_name => 'OnePlus Nord',
    },
    # Realme Mobile
    :realme_mobile => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; realme GT Build/RKQ1.201022.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 89,
      :device_vendor => 'Realme',
      :device_name => 'realme GT',
    },
    # Vivo Mobile
    :vivo_mobile => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; vivo X70 Pro Build/SP1A.210812.003; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/94.0.4606.85 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 94,
      :device_vendor => 'Vivo',
      :device_name => 'vivo X70 Pro',
    },
    # New Browsers
    :vivaldi_browser => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.134 Safari/537.36 Vivaldi/5.3.2679.68",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :os_version => "10",
      :browser => :vivaldi,
      :browser_name => 'Vivaldi',
      :major_browser_version => 5,
    },
    :brave_browser => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36 Brave/1.41.100",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :os_version => "10",
      :browser => :brave,
      :browser_name => 'Brave',
      :major_browser_version => 1,
    },
    # Samsung Galaxy S-series (Issue 1 fix)
    :samsung_galaxy_s25 => {
      :user_agent => "Mozilla/5.0 (Linux; Android 15; SM-S931B Build/AP3A.240905.015.A2; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/127.0.6533.103 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "15",
      :browser => :chrome,
      :major_browser_version => 127,
      :device_vendor => 'Samsung',
      :device_name => 'SM-S931B',
    },
    :samsung_galaxy_s24_ultra => {
      :user_agent => "Mozilla/5.0 (Linux; Android 14; SM-S928B/DS) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.6099.230 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "14",
      :browser => :chrome,
      :major_browser_version => 120,
      :device_vendor => 'Samsung',
      :device_name => 'SM-S928B/DS',
    },
    :samsung_galaxy_s23 => {
      :user_agent => "Mozilla/5.0 (Linux; Android 13; SM-S911B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "13",
      :browser => :chrome,
      :major_browser_version => 104,
      :device_vendor => 'Samsung',
      :device_name => 'SM-S911B',
    },
    :samsung_galaxy_s22_5g => {
      :user_agent => "Mozilla/5.0 (Linux; Android 13; SM-S901B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "13",
      :browser => :chrome,
      :major_browser_version => 112,
      :device_vendor => 'Samsung',
      :device_name => 'SM-S901B',
    },
    :google_pixel_9_pro => {
      :user_agent => "Mozilla/5.0 (Linux; Android 14; Pixel 9 Pro Build/AD1A.240418.003; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/124.0.6367.54 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "14",
      :browser => :chrome,
      :major_browser_version => 124,
      :device_vendor => 'Google',
      :device_name => 'Pixel 9 Pro',
    },
    :google_pixel_8_pro => {
      :user_agent => "Mozilla/5.0 (Linux; Android 15; Pixel 8 Pro Build/AP4A.250105.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/132.0.6834.163 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "15",
      :browser => :chrome,
      :major_browser_version => 132,
      :device_vendor => 'Google',
      :device_name => 'Pixel 8 Pro',
    },
    :google_pixel_7a => {
      :user_agent => "Mozilla/5.0 (Linux; Android 14; Pixel 7a Build/UQ1A.240105.004; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/120.0.6099.230 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "14",
      :browser => :chrome,
      :major_browser_version => 120,
      :device_vendor => 'Google',
      :device_name => 'Pixel 7a',
    },
    :google_pixel_6 => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; Pixel 6 Build/SQ3A.220705.003; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/103.0.5060.129 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 103,
      :device_vendor => 'Google',
      :device_name => 'Pixel 6',
    },
    :iphone_16_pro => {
      :user_agent => "Mozilla/5.0 (iPhone17,1; CPU iPhone OS 18_2_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 Mohegan Sun/4.7.4",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :os => :ios,
      :os_version => "18.2.1",
      :browser => nil,
      :device_vendor => 'Apple',
      :device_name => 'iPhone',
    },
    :iphone_16e => {
      :user_agent => "Mozilla/5.0 (iPhone17,5; CPU iPhone OS 18_3_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 FireKeepers/1.7.0",
      :form_factor => :handheld,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :os => :ios,
      :os_version => "18.3.2",
      :browser => nil,
      :device_vendor => 'Apple',
      :device_name => 'iPhone',
    },
    :ipad_pro_11_5th => {
      :user_agent => "Mozilla/5.0 (iPad16,3; CPU OS 18_3_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 Tropicana_NJ/5.7.1",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :os => :ios,
      :os_version => "18.3.2",
      :browser => nil,
      :device_vendor => 'Apple',
      :device_name => 'iPad',
    },
    :ipad_air_6th => {
      :user_agent => "Mozilla/5.0 (iPad15,4; CPU OS 17_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 BetMGM_NJ/5.7.1",
      :form_factor => :tablet,
      :ios? => true,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :os => :ios,
      :os_version => "17.6.1",
      :browser => nil,
      :device_vendor => 'Apple',
      :device_name => 'iPad',
    },
    :edge_browser => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edge/91.0.864.59",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :os_version => "10",
      :browser => :edge,
      :browser_name => 'Edge',
      :major_browser_version => 91,
    },
    :playstation_4 => {
      :user_agent => "Mozilla/5.0 (PlayStation 4 4.55) AppleWebKit/537.73 (KHTML, like Gecko)",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :device_vendor => 'Sony',
      :device_name => 'PlayStation 4',
    },
    :playstation_5 => {
      :user_agent => "Mozilla/5.0 (PlayStation; PlayStation 5/2.26) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0 Safari/605.1.15",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 605,
      :browser => :safari,
      :major_browser_version => 13,
      :device_vendor => 'Sony',
      :device_name => 'PlayStation 5',
    },
    :xbox_series_x => {
      :user_agent => "Mozilla/5.0 (Xbox; Xbox Series X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.82 Safari/537.36 Edge/20.02",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :browser => :edge,
      :major_browser_version => 20,
      :device_vendor => 'Microsoft',
      :device_name => 'Xbox Series X',
    },
    :xbox_one => {
      :user_agent => "Mozilla/5.0 (Xbox; Xbox One) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.75 Safari/537.36 Edge/13.10586",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :browser => :edge,
      :major_browser_version => 13,
      :device_vendor => 'Microsoft',
      :device_name => 'Xbox One',
    },
    :xiaomi_numeric_model => {
      :user_agent => "Mozilla/5.0 (Linux; Android 14; 24091RPADG Build/UP1A.231005.007; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/124.0.6367.179 Mobile Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "14",
      :browser => :chrome,
      :major_browser_version => 124,
      :device_vendor => 'Xiaomi',
      :device_name => '24091RPADG',
    },
    :lenovo_tablet => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; LET105G Build/SP1A.210812.016) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 103,
      :device_vendor => 'Lenovo',
      :device_name => 'LET105G',
    },
    :motorola_moto_g => {
      :user_agent => "Mozilla/5.0 (Linux; Android 11; moto g power (2021) Build/RRKS31.Q1-19-17-2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.120 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "11",
      :browser => :chrome,
      :major_browser_version => 91,
      :device_vendor => 'Motorola',
      :device_name => 'moto g power (2021)',
    },
    :nintendo_switch => {
      :user_agent => "Mozilla/5.0 (Nintendo Switch; WifiWebAuthApplet) AppleWebKit/601.6 (KHTML, like Gecko) NF/4.0.0.5.10 NintendoBrowser/5.1.0.13343",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 601,
      :device_vendor => 'Nintendo',
      :device_name => 'Switch',
    },
    :amazon_fire_tv => {
      :user_agent => "Mozilla/5.0 (Linux; Android 9; AFTMM Build/PS7233) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.147 Mobile Safari/537.36",
      :form_factor => :console,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "9",
      :browser => :chrome,
      :major_browser_version => 79,
      :device_vendor => 'Amazon',
      :device_name => 'AFTMM',
    },
    :amazon_fire_tablet => {
      :user_agent => "Mozilla/5.0 (Linux; Android 7.1.2; KFKAWI Build/NS6265) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.125 Mobile Safari/537.36",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "7.1.2",
      :browser => :chrome,
      :major_browser_version => 59,
      :device_vendor => 'Amazon',
      :device_name => 'KFKAWI',
    },
    :apple_tv => {
      :user_agent => "AppleTV6,2/11.1 CFNetwork/887.60.2 Darwin/17.3.0",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :device_vendor => 'Apple',
      :device_name => 'Apple TV',
    },
    :chromecast => {
      :user_agent => "Mozilla/5.0 (CrKey armv7l 1.5.16041) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.0 Safari/537.36",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :browser => :chrome,
      :major_browser_version => 31,
      :device_vendor => 'Google',
      :device_name => 'Chromecast',
    },
    :roku_device => {
      :user_agent => "Roku4640X/DVP-7.70 (297.70E04154A)",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :device_vendor => 'Roku',
      :device_name => '4640X',
    },
    :xiaomi_pad_7_pro => {
      :user_agent => "Dalvik/2.1.0 (Linux; U; Android 15; 24091RPADG Build/AQ3A.240801.002)",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :os => :android,
      :os_version => "15",
      :device_vendor => 'Xiaomi',
      :device_name => '24091RPADG',
    },
    :huawei_pura_70_ultra => {
      :user_agent => "Mozilla/5.0 (Linux; Android 12; HBP-LX9 Build/HUAWEIHBP-L29; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/130.0.6723.58 Mobile Safari/537.36",
      :form_factor => :handheld,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "12",
      :browser => :chrome,
      :major_browser_version => 130,
      :device_vendor => 'Huawei',
      :device_name => 'HBP-LX9',
    },
    :windows_10_edge => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0",
      :form_factor => :desktop,
      :ios? => false,
      :android? => false,
      :desktop? => true,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :browser => :edge,
      :major_browser_version => 134,
      :device_vendor => nil,
      :device_name => nil,
    },
    :xbox_series_x_windows => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64; Xbox; Xbox Series X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.82 Safari/537.36 Edge/20.02",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :browser => :edge,
      :major_browser_version => 20,
      :device_vendor => 'Microsoft',
      :device_name => 'Xbox Series X',
    },
    :xbox_one_s_windows => {
      :user_agent => "Mozilla/5.0 (Windows NT 10.0; Win64; x64; XBOX_ONE_ED) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :browser => :edge,
      :major_browser_version => 14,
      :device_vendor => 'Microsoft',
      :device_name => 'Xbox One',
    },
    :xbox_one_windows_phone => {
      :user_agent => "Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Xbox; Xbox One) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/13.10586",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :windows,
      :browser => :edge,
      :major_browser_version => 13,
      :device_vendor => 'Microsoft',
      :device_name => 'Xbox One',
    },
    :amazon_fire_tv_stick_aftka => {
      :user_agent => "Mozilla/5.0 (Linux; Android 9; AFTKA) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/70.0.3538.110 Mobile Safari/537.36",
      :form_factor => :console,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :os => :android,
      :os_version => "9",
      :browser => :chrome,
      :major_browser_version => 70,
      :device_vendor => 'Amazon',
      :device_name => 'AFTKA',
    },
    :google_adt_2 => {
      :user_agent => "Dalvik/2.1.0 (Linux; U; Android 9; ADT-2 Build/PTT5.181126.002)",
      :form_factor => :console,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :os => :android,
      :os_version => "9",
      :device_vendor => 'Google',
      :device_name => 'ADT-2',
    },
    :playstation_vita => {
      :user_agent => "Mozilla/5.0 (PlayStation Vita 3.61) AppleWebKit/537.73 (KHTML, like Gecko) Silk/3.2",
      :form_factor => :console,
      :ios? => false,
      :android? => false,
      :desktop? => false,
      :engine => :webkit,
      :major_engine_version => 537,
      :device_vendor => 'Sony',
      :device_name => 'PlayStation Vita',
    },
    :onyx_noteair_3c => {
      :user_agent => "Dalvik/2.1.0 (Linux; U; Android 12; NoteAir3C Build/2023-11-15_15-07_3.5_0a296ec2c)",
      :form_factor => :tablet,
      :ios? => false,
      :android? => true,
      :desktop? => false,
      :os => :android,
      :os_version => "12",
      :device_vendor => 'Onyx',
      :device_name => 'NoteAir3C',
    },
  }

  AGENTS.each do |agent, attributes|
    define_method "test_sniff_#{agent}_correctly" do
      sniffer = BrowserSniffer.new(attributes[:user_agent])
      attributes.reject{|attr| attr == :user_agent}.each do |attribute, value|
        if value.nil?
          assert_nil sniffer.send(attribute), "#{attribute.to_s} did not match"
        else
          assert_equal value, sniffer.send(attribute), "#{attribute.to_s} did not match"
        end
      end
    end
  end

end
